<!DOCTYPE struts PUBLIC
     "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
     "http://struts.apache.org/dtds/struts-2.0.dtd">
 
<struts>
 
	<constant name="struts.devMode" value="true" />
 
	<package name="default" extends="struts-default">
 		
 		<interceptors>
 			 <interceptor name="authIntercept"
		        class="authIntercept">
		    </interceptor>
		    <interceptor name="requireLogin"
		    	class="requireLogin">
		    </interceptor>
 			<interceptor-stack name="authStack">
 				<interceptor-ref name="authIntercept" />
 				<interceptor-ref name="defaultStack" />
 			</interceptor-stack>
 		</interceptors>

 		<global-results>
 			<result name="error">WEB-INF/content/error.jsp</result>
 			<result name="login">WEB-INF/content/user/login.jsp</result>
 		</global-results>
 		
 		<action name="home" class="baseAction">
 			<result name="success">home.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>

 		
		<action name="listAllUsers" class="userListAction">
			<result name="success">WEB-INF/content/user/list.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
		</action>
 
		<action name="deleteUser" method="delete" class="userAction">
			<result type="redirect">listAllUsers.action</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
 
		<action name="addUserForm" class="baseAction">
			<result>WEB-INF/content/user/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
		
		<action name="userLoginForm" class="baseAction">
			<result>WEB-INF/content/user/login.jsp</result>
		</action>
 
		<action name="addUser" class="addUserAction">
			<result name="success" type="redirect">listAllUsers.action</result>
			<result name="input">WEB-INF/content/user/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
		
		<action name="loginUser" class="loginUserAction">
			<result name="success" type="redirect">${loginUrl}</result>
			<result name="input">WEB-INF/content/user/login.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
		</action>
		
		<action name="logout" class="logoutUserAction">
			<result name="success">WEB-INF/content/user/logout.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
		</action>
		
		
		<!-- Contact Actions -->
 		<action name="listAllContacts" class="contactListAction">
 			<result name="success">WEB-INF/content/contact/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<action name="addContactForm" class="baseAction">
			<result>WEB-INF/content/contact/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
		
		<action name="addContact" class="addContactAction">
			<result name="success" type="redirect">listAllContacts.action</result>
			<result name="input">WEB-INF/content/contact/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
 		
 		
 		<!-- Contractor Actions -->
 		<action name="listAllContractors" class="contractorListAction">
 			<result name="success">WEB-INF/content/contractor/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<action name="viewContractor" class="contractorViewAction">
 			<result name="success">WEB-INF/content/contractor/view.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<action name="addContractorForm" class="baseAction">
			<result>WEB-INF/content/contractor/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
		
		
		<action name="addContractor" class="addContractorAction">
			<result name="success" type="redirect">listAllContractors.action</result>
			<result name="input">WEB-INF/content/contractor/addForm.jsp</result>
			<interceptor-ref name="authStack"></interceptor-ref>
			<interceptor-ref name="requireLogin"></interceptor-ref>
		</action>
 		
 		
 		<!-- Location Actions -->
 		<action name="listAllLocations" class="locationListAction">
 			<result name="success">WEB-INF/content/location/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!-- Service Technician Actions -->
 		<action name="listAllServiceTechnicians" class="serviceTechnicianListAction">
 			<result name="success">WEB-INF/content/service_technician/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!--Shipment Actions -->
 		<action name="listAllShipments" class="shipmentListAction">
 			<result name="success">WEB-INF/content/shipment/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!-- Maintenance Order Actions -->
 		<action name="listAllMaintenanceOrders" class="maintenanceOrderListAction">
 			<result name="success">WEB-INF/content/maintenance_order/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!-- Vehicle Type Actions -->
 		<action name="listAllVehicleTypes" class="vehicleTypeListAction">
 			<result name="success">WEB-INF/content/vehicle_type/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!-- Vehicle Actions -->
 		<action name="listAllVehicles" class="vehicleListAction">
 			<result name="success">WEB-INF/content/vehicle/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<!-- Driver Actions -->
 		<action name="listAllDrivers" class="driverListAction">
 			<result name="success">WEB-INF/content/driver/list.jsp</result>
 			<interceptor-ref name="authStack"></interceptor-ref>
 		</action>
 		
 		<action name="viewDriver" class="driverViewAction">
 			<result name="success">WEB-INF/content/driver/view.jsp</result>
 		</action>
 		
 		 <action name="addDriverForm" class="requireLoginAction">
			<result>WEB-INF/content/driver/addForm.jsp</result>
		</action>
 		
	</package>
</struts>